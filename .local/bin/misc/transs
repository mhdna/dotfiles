#!/bin/sh

if ! ping -q -c 1 1.1.1.1 >/dev/null; then
    notify-send 'Trans: No connection' && exit 1
fi

tr(){
    if [ "$1" = "arabic" ]; then
        $TERMINAL -e trans --target="$1" --speak
    else
        $TERMINAL -e trans --target="$1"
    fi
}

case "$1" in
    "p")
    notify-send "$(trans --no-bidi -b --target="arabic" "$(xclip -o)")";;
    "c")
    notify-send "$(trans --no-bidi -b --target="arabic" "$(xclip -sel c -o)")";;
    "a") tr "arabic";;
    "e") tr "english";;
    "f") tr "persian";;
    *) exit 1;;
esac
